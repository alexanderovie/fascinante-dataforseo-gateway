{
  "openapi": "3.1.0",
  "info": {
    "title": "Fascinante Digital - PageSpeed Insights API",
    "description": "üöÄ FASCINANTE DIGITAL - API Gateway para an√°lisis de rendimiento web con Google PageSpeed Insights. Obtiene m√©tricas detalladas de Core Web Vitals, rendimiento, accesibilidad, SEO y mejores pr√°cticas.",
    "version": "v1.0.0"
  },
  "servers": [
    {
      "url": "https://auditoria.fascinantedigital.com",
      "description": "Fascinante Digital API Gateway - Producci√≥n"
    }
  ],
  "security": [
    {
      "ApiKeyAuth": []
    }
  ],
  "components": {
    "securitySchemes": {
      "ApiKeyAuth": {
        "type": "apiKey",
        "in": "header",
        "name": "X-API-Key",
        "description": "API Key para autenticaci√≥n. Obt√©n tu clave en el dashboard de Fascinante Digital."
      }
    },
    "schemas": {
      "Error": {
        "type": "object",
        "properties": {
          "error": {
            "type": "string",
            "description": "Mensaje de error"
          },
          "code": {
            "type": "integer",
            "description": "C√≥digo de error HTTP"
          }
        }
      },
      "Success": {
        "type": "object",
        "properties": {
          "status": {
            "type": "string",
            "description": "Estado de la respuesta"
          },
          "data": {
            "type": "object",
            "description": "Datos de respuesta"
          }
        }
      }
    }
  },
  "paths": {
    "/api/health": {
      "get": {
        "summary": "Health Check - Fascinante Digital",
        "description": "üè• FASCINANTE DIGITAL - Verifica el estado del API Gateway y servicios conectados.",
        "operationId": "fascinante_digital_health_check",
        "tags": ["System"],
        "responses": {
          "200": {
            "description": "Sistema funcionando correctamente",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "example": "healthy"
                    },
                    "timestamp": {
                      "type": "string",
                      "format": "date-time"
                    },
                    "version": {
                      "type": "string",
                      "example": "1.0.0"
                    },
                    "services": {
                      "type": "object",
                      "properties": {
                        "api": {
                          "type": "string",
                          "example": "running"
                        },
                        "cache": {
                          "type": "string",
                          "example": "available"
                        },
                        "analytics": {
                          "type": "string",
                          "example": "active"
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/pagespeed/summary": {
      "post": {
        "summary": "Resumen PageSpeed Optimizado - Fascinante Digital",
        "description": "üöÄ FASCINANTE DIGITAL - Resumen optimizado de PageSpeed Insights con solo datos esenciales. Incluye scores principales, Core Web Vitals, y top 5 oportunidades. Respuesta ligera para ChatGPT. ‚úÖ OPTIMIZADO PARA CHATGPT.",
        "operationId": "fascinante_digital_pagespeed_summary",
        "tags": ["PageSpeed Analysis"],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "url": {
                    "type": "string",
                    "description": "URL completa de la p√°gina web a analizar",
                    "example": "https://www.fascinantedigital.com"
                  },
                  "strategy": {
                    "type": "string",
                    "enum": ["desktop", "mobile"],
                    "default": "desktop",
                    "description": "Estrategia de an√°lisis: desktop o mobile"
                  }
                },
                "required": ["url"],
                "description": "Objeto con la URL y estrategia de an√°lisis. Respuesta optimizada para ChatGPT."
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Resumen PageSpeed exitoso",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "url": {
                      "type": "string",
                      "description": "URL analizada"
                    },
                    "strategy": {
                      "type": "string",
                      "description": "Estrategia utilizada"
                    },
                    "scores": {
                      "type": "object",
                      "properties": {
                        "performance": {
                          "type": "integer",
                          "description": "Score de rendimiento (0-100)"
                        },
                        "accessibility": {
                          "type": "integer",
                          "description": "Score de accesibilidad (0-100)"
                        },
                        "best_practices": {
                          "type": "integer",
                          "description": "Score de mejores pr√°cticas (0-100)"
                        },
                        "seo": {
                          "type": "integer",
                          "description": "Score de SEO (0-100)"
                        }
                      }
                    },
                    "core_web_vitals": {
                      "type": "object",
                      "properties": {
                        "lcp": {
                          "type": "string",
                          "description": "Largest Contentful Paint"
                        },
                        "fcp": {
                          "type": "string",
                          "description": "First Contentful Paint"
                        },
                        "cls": {
                          "type": "string",
                          "description": "Cumulative Layout Shift"
                        },
                        "fid": {
                          "type": "string",
                          "description": "First Input Delay"
                        }
                      }
                    },
                    "opportunities": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "title": {
                            "type": "string",
                            "description": "T√≠tulo de la oportunidad"
                          },
                          "description": {
                            "type": "string",
                            "description": "Descripci√≥n de la oportunidad"
                          },
                          "score": {
                            "type": "integer",
                            "description": "Score de la oportunidad (0-100)"
                          },
                          "savings": {
                            "type": "integer",
                            "description": "Ahorro potencial en ms"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/pagespeed/core-web-vitals": {
      "post": {
        "summary": "Core Web Vitals Detallado - Fascinante Digital",
        "description": "üìä FASCINANTE DIGITAL - An√°lisis detallado de Core Web Vitals con scores y recomendaciones espec√≠ficas. Respuesta ligera y enfocada solo en m√©tricas esenciales. ‚úÖ OPTIMIZADO PARA CHATGPT.",
        "operationId": "fascinante_digital_core_web_vitals",
        "tags": ["PageSpeed Analysis"],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "url": {
                    "type": "string",
                    "description": "URL completa de la p√°gina web a analizar",
                    "example": "https://www.fascinantedigital.com"
                  },
                  "strategy": {
                    "type": "string",
                    "enum": ["desktop", "mobile"],
                    "default": "desktop",
                    "description": "Estrategia de an√°lisis: desktop o mobile"
                  }
                },
                "required": ["url"],
                "description": "Objeto con la URL y estrategia para an√°lisis de Core Web Vitals."
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "An√°lisis Core Web Vitals exitoso",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "url": {
                      "type": "string",
                      "description": "URL analizada"
                    },
                    "strategy": {
                      "type": "string",
                      "description": "Estrategia utilizada"
                    },
                    "performance_score": {
                      "type": "integer",
                      "description": "Score general de rendimiento (0-100)"
                    },
                    "core_web_vitals": {
                      "type": "object",
                      "properties": {
                        "lcp": {
                          "type": "object",
                          "properties": {
                            "value": {
                              "type": "string",
                              "description": "Valor de LCP"
                            },
                            "score": {
                              "type": "number",
                              "description": "Score de LCP (0-1)"
                            },
                            "status": {
                              "type": "string",
                              "enum": ["Good", "Needs Improvement", "Poor"],
                              "description": "Estado de LCP"
                            }
                          }
                        },
                        "fcp": {
                          "type": "object",
                          "properties": {
                            "value": {
                              "type": "string",
                              "description": "Valor de FCP"
                            },
                            "score": {
                              "type": "number",
                              "description": "Score de FCP (0-1)"
                            },
                            "status": {
                              "type": "string",
                              "enum": ["Good", "Needs Improvement", "Poor"],
                              "description": "Estado de FCP"
                            }
                          }
                        },
                        "cls": {
                          "type": "object",
                          "properties": {
                            "value": {
                              "type": "string",
                              "description": "Valor de CLS"
                            },
                            "score": {
                              "type": "number",
                              "description": "Score de CLS (0-1)"
                            },
                            "status": {
                              "type": "string",
                              "enum": ["Good", "Needs Improvement", "Poor"],
                              "description": "Estado de CLS"
                            }
                          }
                        },
                        "fid": {
                          "type": "object",
                          "properties": {
                            "value": {
                              "type": "string",
                              "description": "Valor de FID"
                            },
                            "score": {
                              "type": "number",
                              "description": "Score de FID (0-1)"
                            },
                            "status": {
                              "type": "string",
                              "enum": ["Good", "Needs Improvement", "Poor"],
                              "description": "Estado de FID"
                            }
                          }
                        }
                      }
                    },
                    "recommendations": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "metric": {
                            "type": "string",
                            "description": "M√©trica relacionada"
                          },
                          "title": {
                            "type": "string",
                            "description": "T√≠tulo de la recomendaci√≥n"
                          },
                          "description": {
                            "type": "string",
                            "description": "Descripci√≥n de la recomendaci√≥n"
                          },
                          "score": {
                            "type": "integer",
                            "description": "Score de la recomendaci√≥n (0-100)"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  },
  "tags": [
    {
      "name": "System",
      "description": "üè• Endpoints del sistema y monitoreo - Fascinante Digital"
    },
    {
      "name": "PageSpeed Analysis",
      "description": "üöÄ An√°lisis de rendimiento web optimizado para ChatGPT - Fascinante Digital"
    }
  ]
}
